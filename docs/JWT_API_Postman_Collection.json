{
	"info": {
		"_postman_id": "jwt-product-review-api-2025",
		"name": "JWT Product Review API - WORKING",
		"description": "Teljes működő API collection JWT authentikációval. Először futtasd a Login requestet, majd használd a többi végpontot.",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "1. Authentication",
			"item": [
				{
					"name": "Register User",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    var jsonData = pm.response.json();",
									"    if (jsonData.token) {",
									"        pm.environment.set(\"jwt_token\", jsonData.token);",
									"        console.log(\"Token saved:\" + jsonData.token);",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Test User\",\n    \"email\": \"test@example.com\",\n    \"password\": \"password123\",\n    \"password_confirmation\": \"password123\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/register",
							"host": ["{{base_url}}"],
							"path": ["api", "register"]
						}
					},
					"response": []
				},
				{
					"name": "Register Admin",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    var jsonData = pm.response.json();",
									"    if (jsonData.token) {",
									"        pm.environment.set(\"admin_token\", jsonData.token);",
									"        console.log(\"Admin token saved: \" + jsonData.token);",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Admin User\",\n    \"email\": \"admin@example.com\",\n    \"password\": \"admin123\",\n    \"password_confirmation\": \"admin123\",\n    \"is_admin\": true\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/register",
							"host": ["{{base_url}}"],
							"path": ["api", "register"]
						}
					},
					"response": []
				},
				{
					"name": "Login User",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    var jsonData = pm.response.json();",
									"    if (jsonData.token) {",
									"        pm.environment.set(\"jwt_token\", jsonData.token);",
									"        console.log(\"Token saved: \" + jsonData.token);",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"test@example.com\",\n    \"password\": \"password123\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/login",
							"host": ["{{base_url}}"],
							"path": ["api", "login"]
						}
					},
					"response": []
				},
				{
					"name": "Login Admin",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    var jsonData = pm.response.json();",
									"    if (jsonData.token) {",
									"        pm.environment.set(\"admin_token\", jsonData.token);",
									"        console.log(\"Admin token saved: \" + jsonData.token);",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"admin@example.com\",\n    \"password\": \"admin123\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/login",
							"host": ["{{base_url}}"],
							"path": ["api", "login"]
						}
					},
					"response": []
				},
				{
					"name": "Get User Profile",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{jwt_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/user",
							"host": ["{{base_url}}"],
							"path": ["api", "user"]
						}
					},
					"response": []
				},
				{
					"name": "Logout",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{jwt_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/logout",
							"host": ["{{base_url}}"],
							"path": ["api", "logout"]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "2. Products",
			"item": [
				{
					"name": "List Products",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{jwt_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/products",
							"host": ["{{base_url}}"],
							"path": ["api", "products"]
						}
					},
					"response": []
				},
				{
					"name": "Get Product",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{jwt_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/products/1",
							"host": ["{{base_url}}"],
							"path": ["api", "products", "1"]
						}
					},
					"response": []
				},
				{
					"name": "Get Product Reviews",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{jwt_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/products/1/reviews",
							"host": ["{{base_url}}"],
							"path": ["api", "products", "1", "reviews"]
						}
					},
					"response": []
				},
				{
					"name": "Create Product (Admin)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Test Product\",\n    \"description\": \"Test product description\",\n    \"price\": 999.99,\n    \"stock\": 100\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/products",
							"host": ["{{base_url}}"],
							"path": ["api", "products"]
						}
					},
					"response": []
				},
				{
					"name": "Update Product (Admin)",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Updated Product\",\n    \"description\": \"Updated description\",\n    \"price\": 1299.99,\n    \"stock\": 150\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/products/1",
							"host": ["{{base_url}}"],
							"path": ["api", "products", "1"]
						}
					},
					"response": []
				},
				{
					"name": "Delete Product (Admin)",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/products/1",
							"host": ["{{base_url}}"],
							"path": ["api", "products", "1"]
						}
					},
					"response": []
				},
				{
					"name": "List Trashed Products (Admin)",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/products/trashed",
							"host": ["{{base_url}}"],
							"path": ["api", "products", "trashed"]
						}
					},
					"response": []
				},
				{
					"name": "Restore Product (Admin)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/products/1/restore",
							"host": ["{{base_url}}"],
							"path": ["api", "products", "1", "restore"]
						}
					},
					"response": []
				},
				{
					"name": "Force Delete Product (Admin)",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/products/1/force",
							"host": ["{{base_url}}"],
							"path": ["api", "products", "1", "force"]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "3. Reviews",
			"item": [
				{
					"name": "List Reviews",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{jwt_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/reviews",
							"host": ["{{base_url}}"],
							"path": ["api", "reviews"]
						}
					},
					"response": []
				},
				{
					"name": "Get Review",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{jwt_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/reviews/1",
							"host": ["{{base_url}}"],
							"path": ["api", "reviews", "1"]
						}
					},
					"response": []
				},
				{
					"name": "Create Review",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{jwt_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"product_id\": 1,\n    \"rating\": 5,\n    \"comment\": \"Excellent product!\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/reviews",
							"host": ["{{base_url}}"],
							"path": ["api", "reviews"]
						}
					},
					"response": []
				},
				{
					"name": "Update Review",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{jwt_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"rating\": 4,\n    \"comment\": \"Good product, updated review\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/reviews/1",
							"host": ["{{base_url}}"],
							"path": ["api", "reviews", "1"]
						}
					},
					"response": []
				},
				{
					"name": "Delete Review",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{jwt_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/reviews/1",
							"host": ["{{base_url}}"],
							"path": ["api", "reviews", "1"]
						}
					},
					"response": []
				},
				{
					"name": "List Trashed Reviews",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{jwt_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/reviews/trashed",
							"host": ["{{base_url}}"],
							"path": ["api", "reviews", "trashed"]
						}
					},
					"response": []
				},
				{
					"name": "Restore Review",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{jwt_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/reviews/1/restore",
							"host": ["{{base_url}}"],
							"path": ["api", "reviews", "1", "restore"]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "4. Admin - Users",
			"item": [
				{
					"name": "List All Users",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/admin/users",
							"host": ["{{base_url}}"],
							"path": ["api", "admin", "users"]
						}
					},
					"response": []
				},
				{
					"name": "Get User",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/admin/users/1",
							"host": ["{{base_url}}"],
							"path": ["api", "admin", "users", "1"]
						}
					},
					"response": []
				},
				{
					"name": "Create User",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"New User\",\n    \"email\": \"newuser@example.com\",\n    \"password\": \"password123\",\n    \"password_confirmation\": \"password123\",\n    \"is_admin\": false\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/admin/users",
							"host": ["{{base_url}}"],
							"path": ["api", "admin", "users"]
						}
					},
					"response": []
				},
				{
					"name": "Update User",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Updated User Name\",\n    \"email\": \"updated@example.com\",\n    \"is_admin\": false\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/admin/users/1",
							"host": ["{{base_url}}"],
							"path": ["api", "admin", "users", "1"]
						}
					},
					"response": []
				},
				{
					"name": "Delete User",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/admin/users/1",
							"host": ["{{base_url}}"],
							"path": ["api", "admin", "users", "1"]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "5. Admin - Products",
			"item": [
				{
					"name": "List All Products with Stats",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/admin/products",
							"host": ["{{base_url}}"],
							"path": ["api", "admin", "products"]
						}
					},
					"response": []
				},
				{
					"name": "Get Product with Stats",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/admin/products/1",
							"host": ["{{base_url}}"],
							"path": ["api", "admin", "products", "1"]
						}
					},
					"response": []
				},
				{
					"name": "Create Product",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Admin Created Product\",\n    \"description\": \"Product created via admin endpoint\",\n    \"price\": 1599.99,\n    \"stock\": 200\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/admin/products",
							"host": ["{{base_url}}"],
							"path": ["api", "admin", "products"]
						}
					},
					"response": []
				},
				{
					"name": "Update Product",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Admin Updated Product\",\n    \"description\": \"Updated via admin endpoint\",\n    \"price\": 1799.99,\n    \"stock\": 250\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/admin/products/1",
							"host": ["{{base_url}}"],
							"path": ["api", "admin", "products", "1"]
						}
					},
					"response": []
				},
				{
					"name": "Delete Product",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/admin/products/1",
							"host": ["{{base_url}}"],
							"path": ["api", "admin", "products", "1"]
						}
					},
					"response": []
				},
				{
					"name": "List Trashed Products",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/admin/products/trashed",
							"host": ["{{base_url}}"],
							"path": ["api", "admin", "products", "trashed"]
						}
					},
					"response": []
				},
				{
					"name": "Restore Product",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/admin/products/1/restore",
							"host": ["{{base_url}}"],
							"path": ["api", "admin", "products", "1", "restore"]
						}
					},
					"response": []
				},
				{
					"name": "Force Delete Product",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/admin/products/1/force",
							"host": ["{{base_url}}"],
							"path": ["api", "admin", "products", "1", "force"]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "6. Admin - Reviews",
			"item": [
				{
					"name": "List All Reviews with Details",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/admin/reviews",
							"host": ["{{base_url}}"],
							"path": ["api", "admin", "reviews"]
						}
					},
					"response": []
				},
				{
					"name": "Get Review with Details",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/admin/reviews/1",
							"host": ["{{base_url}}"],
							"path": ["api", "admin", "reviews", "1"]
						}
					},
					"response": []
				},
				{
					"name": "Create Review",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"user_id\": 1,\n    \"product_id\": 1,\n    \"rating\": 5,\n    \"comment\": \"Admin created review\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/admin/reviews",
							"host": ["{{base_url}}"],
							"path": ["api", "admin", "reviews"]
						}
					},
					"response": []
				},
				{
					"name": "Update Review",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"rating\": 3,\n    \"comment\": \"Admin moderated review\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/admin/reviews/1",
							"host": ["{{base_url}}"],
							"path": ["api", "admin", "reviews", "1"]
						}
					},
					"response": []
				},
				{
					"name": "Delete Review",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/admin/reviews/1",
							"host": ["{{base_url}}"],
							"path": ["api", "admin", "reviews", "1"]
						}
					},
					"response": []
				},
				{
					"name": "List Trashed Reviews",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/admin/reviews/trashed",
							"host": ["{{base_url}}"],
							"path": ["api", "admin", "reviews", "trashed"]
						}
					},
					"response": []
				},
				{
					"name": "Restore Review",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/admin/reviews/1/restore",
							"host": ["{{base_url}}"],
							"path": ["api", "admin", "reviews", "1", "restore"]
						}
					},
					"response": []
				},
				{
					"name": "Force Delete Review",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/admin/reviews/1/force",
							"host": ["{{base_url}}"],
							"path": ["api", "admin", "reviews", "1", "force"]
						}
					},
					"response": []
				}
			]
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:8000",
			"type": "string"
		},
		{
			"key": "jwt_token",
			"value": "",
			"type": "string"
		},
		{
			"key": "admin_token",
			"value": "",
			"type": "string"
		}
	]
}
